# LLM Chat Assistant - Chrome Extension

A simple and user-friendly Chrome extension that uses LLM (OpenAI API) to support your job hunting activities, from interview preparation to feedback organization and calendar management.

## âœ¨ Features

- ğŸ¤– **OpenAI API Integration**: Chat functionality with GPT-3.5/GPT-4
- ğŸ¯ **6 Specialized Modes**:
  - ğŸ’¬ **Normal Mode**: General questions and conversations
  - ğŸ§± **Wall Mode**: Question-based dialogue to organize thoughts
  - âœï¸ **Rephrase Mode**: Refine and restructure text
  - ğŸ˜° **Pre-Interview Mode**: Ease pre-interview anxiety and support preparation
  - ğŸ“ **Feedback Mode**: Structure and organize post-interview feedback
  - ğŸ“… **Calendar Mode**: Visual calendar for schedule management
- ğŸ”§ **Customizable**: Edit and save prompts for each mode
- ğŸ’¾ **Conversation History**: Maintain context across conversations
- ğŸ¨ **Modern UI**: User-friendly interface

## ğŸš€ Quick Start

### 1. Setup

#### Required Files

The following files are required:
- `manifest.json`
- `popup.html`
- `popup.css`
- `dist/popup.js` (built from TypeScript)
- `icon16.png`, `icon48.png`, `icon128.png` (icon images)

**Note**: `dist/popup.js` is generated by running `npm run build`.

#### Icon Preparation

Prepare icon images (PNG format, 16x16, 48x48, 128x128 pixels).

##### Method 1: Using HTML File (Recommended)
1. Open `create_icons.html` in your browser
2. Right-click each canvas â†’ "Save image as"
3. Save as `icon16.png`, `icon48.png`, `icon128.png`

##### Method 2: Using Python Script
```bash
pip install Pillow
python3 generate_icons.py
```

##### Method 3: Using ImageMagick
```bash
convert -size 128x128 xc:purple -pointsize 72 -fill white -gravity center -annotate +0+0 "LLM" icon128.png
convert icon128.png -resize 48x48 icon48.png
convert icon128.png -resize 16x16 icon16.png
```

### 2. Load as Chrome Extension

1. Open `chrome://extensions/` in Chrome
2. Enable "Developer mode" in the top right
3. Click "Load unpacked"
4. Select this project folder

### 3. Configure API Key

1. Click the extension icon
2. Click the âš™ï¸ button in the top right
3. In the "API Settings" tab:
   - Enter your OpenAI API Key (starts with `sk-...`)
   - Select the model to use (GPT-3.5 Turbo or GPT-4)
4. Click "Save"

### 4. Customize Prompts (Optional)

1. Click the "Prompts" tab in settings
2. Select a mode (Normal / Wall / Rephrase / Pre-Interview / Feedback / Calendar)
3. Edit the custom prompt
4. Click "Save" to save, or "Reset to Default" to restore
5. You can manage prompts by theme (season, purpose, etc.)

## ğŸ“– Usage

### Basic Operations

1. Click the extension icon
2. Select a mode using the buttons at the top (Normal / Wall / Rephrase / Pre-Interview / Feedback / Calendar)
3. **Non-Calendar Modes**: Enter a message in the text area and send
4. **Calendar Mode**: Click dates on the calendar to add/manage events

### Mode Details

#### ğŸ’¬ Normal Mode
- Use for general questions and conversations
- Assistant provides direct answers and advice
- Functions as a general-purpose chat assistant

#### ğŸ§± Wall Mode
- Use when you want to organize your thoughts
- LLM returns thought-provoking questions instead of advice
- Example: "I'm not sure how to give feedback on today's interview" â†’ "Why are you unsure?"

#### âœï¸ Rephrase Mode
- Use when you want to refine text
- Removes redundant expressions and improves readability
- Both original and rephrased text are displayed
- Useful for creating feedback or email drafts

#### ğŸ˜° Pre-Interview Mode
- **Best for pre-interview preparation**
- Eases anxiety and supports preparation
- Provides specific advice and helps prepare questions
- Example: "I'm worried about what they'll ask in the interview" â†’ "Let's organize common interview questions and preparation methods"

#### ğŸ“ Feedback Mode
- **Best for organizing post-interview feedback**
- Automatically categorizes and organizes content into:
  - **impression** (overall impression)
  - **attraction** (appealing points / positives)
  - **concern** (concerns / points of worry)
  - **aspiration** (interest level: high / medium / low)
  - **next_step** (next step: proceed / hold / decline)
  - **other** (other)
- Even if you speak in multiple parts, it considers conversation history
- Example: "Talked with the CTO. Their tech stack seems interesting. A bit concerned about salary." â†’ Automatically categorized

#### ğŸ“… Calendar Mode
- **Visual schedule management**
- Reserve empty dates as **drafts**
- **Click** to select a date, **double-click** to add an event
- Events are managed with two statuses: "draft" and "confirmed"
- Dates with events are visually indicated on the calendar (Orange: draft, Green: confirmed)
- Easy to add and delete events
- Reserve multiple interview candidates and adjust later

## ğŸ” Security

### Implemented Security Measures

- âœ… **XSS (Cross-Site Scripting) Protection**: All user input is escaped using `textContent`
- âœ… **Content Security Policy (CSP)**: CSP set in manifest.json to restrict external script loading
- âœ… **Input Validation**: Validates format of API Key, prompts, and model names
- âœ… **Error Message Sanitization**: Automatically masks API Keys and other sensitive information from error messages
- âœ… **API Response Validation**: Detects and returns errors for malformed responses
- âœ… **Input Length Limits**: Length limits set for prompts and event titles

### Notes

- API Keys are stored in Chrome storage (`chrome.storage.sync`)
  - Chrome automatically encrypts during sync, but it's not complete encryption
  - Contains sensitive information, so avoid use on shared computers
- OpenAI API usage incurs costs
- Do not share your API Key with others

## ğŸ”‘ Getting an OpenAI API Key

1. Visit [OpenAI Platform](https://platform.openai.com/)
2. Create an account or log in
3. Navigate to API Keys section
4. Click "Create new secret key"
5. Copy the generated key (note: it's only shown once)

## ğŸ’» Development

This project is written in TypeScript.

### Development Environment Setup

1. **Install Dependencies**:
```bash
npm install
```

2. **Build TypeScript**:
```bash
npm run build
```

3. **Use Auto-Build (Watch Mode) During Development**:
```bash
npm run watch
```

### Project Structure

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types.ts          # Type definitions
â”‚   â”œâ”€â”€ constants.ts       # Constants (prompts, settings, etc.)
â”‚   â”œâ”€â”€ api.ts            # OpenAI API calls
â”‚   â”œâ”€â”€ storage.ts        # Chrome storage management
â”‚   â”œâ”€â”€ prompts.ts        # Prompt management
â”‚   â”œâ”€â”€ calendar.ts       # Calendar functionality
â”‚   â”œâ”€â”€ calendar-ui.ts   # Calendar UI
â”‚   â”œâ”€â”€ security.ts      # Security utilities
â”‚   â”œâ”€â”€ utils.ts          # Utility functions
â”‚   â””â”€â”€ popup.ts          # Main logic
â”œâ”€â”€ dist/                 # Build output (auto-generated)
â”œâ”€â”€ popup.html            # UI
â”œâ”€â”€ popup.css             # Styles
â”œâ”€â”€ manifest.json         # Chrome extension configuration
â”œâ”€â”€ tsconfig.json         # TypeScript configuration
â””â”€â”€ package.json          # Dependencies
```

### Reflecting File Changes

1. Build TypeScript: `npm run build`
2. Click the "Reload" button on the `chrome://extensions/` page

### Tech Stack

- **TypeScript**: Type-safe code writing
- **Chrome Extension Manifest V3**: Latest extension API
- **OpenAI API**: Communication with GPT models
- **Chrome Storage API**: Data persistence

## ğŸ“ Usage Examples

### Pre-Interview Preparation

1. Select "ğŸ˜° Pre-Interview" mode
2. Enter "I'm nervous about the interview. What should I do?"
3. Get advice and things to prepare

### Post-Interview Feedback Organization

1. Select "ğŸ“ Feedback" mode
2. Enter "Had a good technical discussion with the CTO. A bit concerned about salary. Want to proceed."
3. Automatically categorized and displayed

### Schedule Management

1. Select "ğŸ“… Calendar" mode
2. Double-click candidate interview dates to add events
3. Save multiple candidates as drafts
4. Change status to "confirmed" when decided

## ğŸ¤ Contributing

This project is open source. Suggestions for improvements and pull requests are welcome.

## ğŸ“„ License

MIT

---

**Note**: This extension is a tool to support job hunting and interview preparation. Please make final decisions yourself.